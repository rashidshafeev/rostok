# Компонент Combobox

`Combobox` — это настраиваемый компонент выпадающего списка, написанный на чистом JavaScript. Он позволяет пользователям искать, фильтровать и выбирать элементы из списка.

## Возможности

- Поле ввода с выпадающим списком для взаимодействия пользователя.
- Настраиваемый рендеринг элементов с помощью функции обратного вызова.
- Фильтрация данных на основе ввода пользователя.
- Навигация с помощью клавиш `ArrowUp`, `ArrowDown` и `Enter`.
- Настраиваемое сообщение "Ничего не найдено" для пустого результата.

## Установка

Для использования необходимо подключить библиотеку `Smartbox` и реализовать логику через данный класс.

## Пример использования

```javascript
const combobox = new Combobox('example', {
  data: ['Apple', 'Banana', 'Cherry'],
  renderItem: (item) => `<li>${item}</li>`,
  onItemSelect: (item) => console.log('Выбранный элемент:', item),
  noResultsMessage: 'Совпадений не найдено',
});
```

## Параметры

При создании экземпляра `Combobox` можно передать следующие параметры:

| Параметр           | Тип        | Описание                                                                        | По умолчанию                      |
| ------------------ | ---------- | ------------------------------------------------------------------------------- | --------------------------------- |
| `data`             | `Array`    | Массив данных для отображения в списке.                                         | `[]`                              |
| `renderItem`       | `Function` | Функция для рендеринга каждого элемента. Получает текущий элемент в аргументе.  | `(item) => \`<li>\${item}</li>\`` |
| `onItemSelect`     | `Function` | Callback-функция, вызываемая при выборе элемента. Возвращает выбранный элемент. | `console.log(item)`               |
| `noResultsMessage` | `String`   | Сообщение, отображаемое, если фильтрация не находит совпадений.                 | `'Ничего не найдено'`             |
| `closeOnSelect`    | `Boolean`  | Закрывать выпадающий список после выбора элемента.                              | `true`                            |

## Методы

### `init()`

Инициализирует компонент, кэширует DOM-элементы и связывает обработчики событий.

### `handleInput(query)`

Фильтрует данные на основе строки запроса и обновляет список.

### `handleItemSelect(item)`

Обрабатывает выбор элемента, вызывает `onItemSelect`, обновляет значение инпута и закрывает список (если включено `closeOnSelect`).

### `renderList()`

Отображает текущий список данных, отфильтрованных на основе ввода пользователя.

### `renderNoResults()`

Отображает сообщение, если результат фильтрации пуст.

### `handleKeyDown(event)`

Обрабатывает клавиатурные события (`ArrowUp`, `ArrowDown`, `Enter`) для навигации по списку и выбора элемента.

## Навигация с клавиатуры

| Клавиша     | Действие                                        |
| ----------- | ----------------------------------------------- |
| `ArrowDown` | Переместить фокус на следующий элемент списка.  |
| `ArrowUp`   | Переместить фокус на предыдущий элемент списка. |
| `Enter`     | Выбрать текущий элемент.                        |

## Пример стилей

Рекомендуется настроить стили для элементов выпадающего списка:

```css
.combobox-content {
  position: relative;
  max-height: 200px;
  overflow-y: auto;
}

.combobox-item {
  padding: 8px;
  cursor: pointer;
}

.combobox-item.active {
  background-color: #f0f0f0;
}

.combobox-no-results {
  padding: 8px;
  color: #888;
  text-align: center;
}
```

## Зависимости

Для работы компонента требуется библиотека `Smartbox`. Убедитесь, что она подключена в проект.
